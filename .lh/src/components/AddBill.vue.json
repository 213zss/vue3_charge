{
    "sourceFile": "src/components/AddBill.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 14,
            "patches": [
                {
                    "date": 1712927561355,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1712927569992,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,371 @@\n+<template>\r\n+ <div class=\"add\">\r\n+         <van-action-sheet :closeable=\"true\">\r\n+            <div class=\"top\">\r\n+               <span class=\"close\" @click=\"addVisible  = false\">\r\n+                  <van-icon name=\"cross\" />\r\n+               </span>\r\n+               <van-button \r\n+                  class=\"add-btn\" \r\n+                  type=\"primary\" \r\n+                  size=\"small\"\r\n+                  @click=\"add\">\r\n+                  确定\r\n+               </van-button>\r\n+            </div>\r\n+            <div class=\"type-time\">\r\n+               <div class=\"type\">\r\n+                  <span\r\n+                     @click=\"changeType('expense')\"\r\n+                     :class=\"{ expense: true, active: payType == 'expense' }\"\r\n+                     >支出</span>\r\n+                     <span\r\n+                     @click=\"changeType('income')\"\r\n+                     :class=\"{ income: true, active: payType == 'income' }\"\r\n+                     >收入</span>         \r\n+               </div>\r\n+               <div @click=\"dayVisible = true\" class=\"time\">\r\n+                  {{itemDate}}\r\n+               </div>\r\n+               <van-action-sheet v-model:show=\"dayVisible\">\r\n+                  <van-date-picker\r\n+                     v-model=\"chargeDate\"\r\n+                     title=\"选择时间\"\r\n+                     :min-date=\"minDate\"\r\n+                     :max-date=\"maxDate\"\r\n+                     @confirm=\"confirmChargeDate\"\r\n+                     @cancel=\"cancelChargeDate\"\r\n+                     />\r\n+               </van-action-sheet>\r\n+              \r\n+            </div>\r\n+            <div class=\"money\">\r\n+               <span>￥</span>\r\n+               <van-field v-model=\"price\" readonly/>\r\n+            </div> \r\n+            <div class=\"type-icon\">\r\n+               <div class=\"type-body\" v-if=\"payType == 'expense'\">\r\n+                  <div\r\n+                     class=\"type-item\"\r\n+                     v-for=\"item in expense\"\r\n+                     :key=\"item.id\"\r\n+                     @click=\"choseTypeItem(item)\"\r\n+                     >\r\n+                     <span\r\n+                        :class=\"{'iconfont-wrap': true,expense:true, active: currentType == item.id}\"\r\n+                     >\r\n+                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n+                     </span>\r\n+                     <span>{{ item.name }}</span>\r\n+                  </div>\r\n+               </div>\r\n+               <div class=\"type-body\" v-else>\r\n+                  <div\r\n+                     class=\"type-item\"\r\n+                     v-for=\"item in income\"\r\n+                     :key=\"item.id\"\r\n+                     @click=\"choseTypeItem(item)\"\r\n+                     >\r\n+                     <span\r\n+                        :class=\"{'iconfont-wrap': true,income:true, active: currentType == item.id}\"\r\n+                     >\r\n+                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n+                     </span>\r\n+                     <span>{{ item.name }}</span>\r\n+                  </div>\r\n+               </div>\r\n+            </div>\r\n+            <div class=\"remark\" v-if=\"remark\" @click=\"remarkVisible = true\">\r\n+               {{ remark }}\r\n+            </div>\r\n+            <div class=\"remark\" v-else @click=\"remarkVisible = true\">添加备注</div>\r\n+            <van-dialog \r\n+               v-model:show=\"remarkVisible\" \r\n+               title=\"备注\" \r\n+               show-cancel-button\r\n+               @confirm=\"confirmRemark\"\r\n+               @cancel=\"cancelRemark\"\r\n+               >\r\n+               <van-cell-group inset>\r\n+                  <van-field\r\n+                     v-model=\"remark\"\r\n+                     rows=\"2\"\r\n+                     autosize\r\n+                     type=\"textarea\"\r\n+                     maxlength=\"10\"\r\n+                     placeholder=\"请输入备注\"\r\n+                     show-word-limit\r\n+                  />\r\n+               </van-cell-group>\r\n+            </van-dialog>\r\n+           \r\n+            <van-number-keyboard\r\n+               v-model=\"price\"\r\n+               :show=\"boardVisible\"\r\n+               :extra-key=\"['.']\"\r\n+               @input=\"onInput\"\r\n+               @delete=\"onDelete\"\r\n+               />\r\n+         </van-action-sheet>\r\n+      </div>\r\n+</template>\r\n+\r\n+<script lang=\"ts\" name=\"AddBill\" setup>\r\n+import {ref,computed} from 'vue'\r\n+import { typeMap } from '../utils/index'\r\n+const minDate= new Date(2020, 0, 1)\r\n+const maxDate= new Date(2025, 5, 1)\r\n+// 添加账单\r\n+let dayVisible=ref(false)//账单时间弹窗\r\n+let date=new Date()//当前时间\r\n+let year = date.getFullYear();\r\n+let month = ('0' + (date.getMonth() + 1)).slice(-2); // 添加前导零\r\n+let day = ('0' + date.getDate()).slice(-2); // 添加前导零\r\n+let chargeDate=ref([year,month,day])//账单时间\r\n+let payType=ref('expense')//支出？收入\r\n+let remarkVisible=ref(false)//添加备注信息弹窗\r\n+let boardVisible = ref(true)//数字键盘弹窗\r\n+let price=ref('')//价格\r\n+let remark=ref('')//备注\r\n+const {currentType,type_name,expense,income,addVisible}=defineProps([\"currentType\",'type_name',\"expense\",\"income\",'addVisible'])\r\n+function formatToTwoDecimalPlaces(value:string){\r\n+   const number = parseFloat(value);\r\n+   if (isNaN(number)) {\r\n+    return value;\r\n+  }\r\n+  // 检查是否是整数\r\n+  if (Number.isInteger(number)) {\r\n+    // 如果是整数，则在末尾添加 '.00'\r\n+    return value + '.00';\r\n+  } \r\n+  else {\r\n+    // 如果是小数，则保持不变\r\n+    return value;\r\n+  }\r\n+}\r\n+function confirmChargeDate(val:object){\r\n+   chargeDate.value=val.selectedValues;\r\n+   dayVisible.value=false\r\n+}\r\n+function cancelChargeDate(){\r\n+   dayVisible.value=false\r\n+}\r\n+const itemDate = computed(() => chargeDate.value[1]+'-'+chargeDate.value[2]);\r\n+// 选择支出?收入\r\n+function changeType(val:string){\r\n+   payType.value=val\r\n+   if(val=='expense') {\r\n+      currentType.value=expense[0].id\r\n+      type_name.value=expense[0].name\r\n+   }\r\n+   else{\r\n+      currentType.value=income[0].id\r\n+      type_name.value=income[0].name\r\n+\r\n+   }  \r\n+}\r\n+\r\n+//选择具体支出收入类型\r\n+function choseTypeItem(val:object){\r\n+   type_name.value=val.name\r\n+   currentType.value=val.id;\r\n+   \r\n+}\r\n+function confirmRemark(){\r\n+   console.log('确认备注');\r\n+   console.log(remark.value);\r\n+   \r\n+}\r\n+function cancelRemark(){\r\n+   console.log('取消备注');\r\n+\r\n+}\r\n+async function add(){\r\n+   console.log('添加账单');\r\n+   let pay_type:number\r\n+   if(payType.value=='expense'){\r\n+      pay_type=1\r\n+   }\r\n+   else{\r\n+      pay_type=2\r\n+   }\r\n+   let timeStamp = Date.parse(chargeDate.value)\r\n+   if (!price.value) {\r\n+         showFailToast ('请输入具体金额')\r\n+          return\r\n+      }\r\n+   const {code}=await axios.post('/bill/add',{\r\n+      amount:formatToTwoDecimalPlaces(price.value),\r\n+      date:timeStamp,\r\n+      pay_type:pay_type,\r\n+      remark:remark.value,\r\n+      type_id:currentType.value,\r\n+      type_name:type_name.value,\r\n+   })\r\n+   if(code==200){\r\n+      showSuccessToast('添加成功');\r\n+      addVisible.value=false\r\n+      price.value=''\r\n+      date = new Date()\r\n+      payType.value='expense'\r\n+      remark.value=''\r\n+      currentType.value=expense[0].id\r\n+   }\r\n+   console.log({\r\n+      amount:formatToTwoDecimalPlaces(price.value),\r\n+      date:timeStamp,\r\n+      pay_type:pay_type,\r\n+      remark:remark.value,\r\n+      type_id:currentType.value,\r\n+      type_name:type_name.value,\r\n+   });\r\n+   \r\n+   \r\n+}\r\n+\r\n+function onInput(){\r\n+\r\n+}\r\n+function onDelete(){\r\n+\r\n+}\r\n+\r\n+\r\n+\r\n+</script>\r\n+\r\n+<style scoped lang=\"scss\">\r\n+ .add{\r\n+         .top {\r\n+            display: flex;\r\n+            justify-content: space-between;\r\n+            padding: 10px 24px 0 24px;\r\n+            .close {\r\n+               display: flex;\r\n+               align-items: center;\r\n+               font-size: 20px;\r\n+\r\n+            }\r\n+            .add-btn {\r\n+               padding: 0 12px;\r\n+               border-color: $primary;\r\n+            }\r\n+         }\r\n+         .type-time{\r\n+            display: flex;\r\n+            justify-content: space-between;\r\n+            align-items: center;\r\n+            padding: 12px 24px;\r\n+            .type {\r\n+               span {\r\n+                  display: inline-block;\r\n+                  padding: 4px 12px;\r\n+                  font-size: 12px;\r\n+                  border-radius: 24px;\r\n+                  border: 1px solid #f5f5f5;\r\n+                  color: black;\r\n+               }\r\n+               .expense {\r\n+                  margin-right: 6px;\r\n+                  &.active {\r\n+                     background-color: #e9f3fd;\r\n+                     border-color: $primary;\r\n+                     color: $primary;\r\n+                  }\r\n+               }\r\n+               .income {\r\n+                  &.active {\r\n+                     background-color: #fbf8f0;\r\n+                     border-color: $text-warning;\r\n+                     color: $text-warning;\r\n+                  }\r\n+               }\r\n+            }\r\n+            .time {\r\n+               display: flex;\r\n+               justify-content: center;\r\n+               align-items: center;\r\n+               padding: 4px 12px;\r\n+               background-color: #f0f0f0;\r\n+               border-radius: 20px;\r\n+               // color: @color-text-base;\r\n+               .sort-down {\r\n+               font-size: 12px;\r\n+               margin-left: 5px;\r\n+               }\r\n+            }\r\n+         }\r\n+         .money{\r\n+            display: flex;\r\n+            align-items: center;\r\n+            margin: 0 24px;\r\n+            padding-bottom: 5px;\r\n+            border-bottom: 1px solid #e9e9e9;\r\n+            span{\r\n+               font-size: 35px;\r\n+               font-weight: 800;\r\n+               margin-right: 5px;\r\n+            }\r\n+            .van-field{\r\n+               font-size: 35px;\r\n+               \r\n+            }\r\n+         }\r\n+         .type-icon {\r\n+            display: flex;\r\n+            overflow-x: auto;\r\n+            margin: 0 24px;\r\n+            margin-bottom: 20px;\r\n+            .type-body {\r\n+               display: flex;\r\n+               white-space: nowrap;\r\n+               .type-item {\r\n+                  display: flex;\r\n+                  flex-direction: column;\r\n+                  justify-content: center;\r\n+                  align-items: center;\r\n+                  padding: 16px 12px 10px 12px;\r\n+                  .iconfont-wrap {\r\n+                     display: flex;\r\n+                     justify-content: center;\r\n+                     align-items: center;\r\n+                     background-color: #f5f5f5;\r\n+                     border-radius: 50%;\r\n+                     width: 30px;\r\n+                     height: 30px;\r\n+                     margin-bottom: 5px;\r\n+                     .iconfont {\r\n+                        color: rgba(0, 0, 0, 0.5);\r\n+                        font-size: 20px;\r\n+                     }\r\n+                  }\r\n+                  .expense {\r\n+                     &.active {\r\n+                     background-color: $primary;\r\n+                     .iconfont {\r\n+                        color: #fff;\r\n+                        }\r\n+                     }\r\n+                  }\r\n+                  .income {\r\n+                     &.active {\r\n+                     background-color: $text-warning;\r\n+                     .iconfont {\r\n+                        color: #fff;\r\n+                        }\r\n+                     }\r\n+                  }\r\n+               }\r\n+            }\r\n+         }\r\n+         .remark{\r\n+            padding: 0 24px;\r\n+            padding-bottom: 12px;\r\n+            color: #4b67e2;\r\n+\r\n+         }\r\n+         .van-number-keyboard{\r\n+            position: relative;\r\n+         }\r\n+   }\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1712927598763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,372 @@\n+<template>\r\n+ <div class=\"add\">\r\n+         <van-action-sheet v-model:show=\"addVisible\" :closeable=\"true\">\r\n+            <div class=\"top\">\r\n+               <span class=\"close\" @click=\"addVisible  = false\">\r\n+                  <van-icon name=\"cross\" />\r\n+               </span>\r\n+               <van-button \r\n+                  class=\"add-btn\" \r\n+                  type=\"primary\" \r\n+                  size=\"small\"\r\n+                  @click=\"add\">\r\n+                  确定\r\n+               </van-button>\r\n+            </div>\r\n+            <div class=\"type-time\">\r\n+               <div class=\"type\">\r\n+                  <span\r\n+                     @click=\"changeType('expense')\"\r\n+                     :class=\"{ expense: true, active: payType == 'expense' }\"\r\n+                     >支出</span>\r\n+                     <span\r\n+                     @click=\"changeType('income')\"\r\n+                     :class=\"{ income: true, active: payType == 'income' }\"\r\n+                     >收入</span>         \r\n+               </div>\r\n+               <div @click=\"dayVisible = true\" class=\"time\">\r\n+                  {{itemDate}}\r\n+               </div>\r\n+               <van-action-sheet v-model:show=\"dayVisible\">\r\n+                  <van-date-picker\r\n+                     v-model=\"chargeDate\"\r\n+                     title=\"选择时间\"\r\n+                     :min-date=\"minDate\"\r\n+                     :max-date=\"maxDate\"\r\n+                     @confirm=\"confirmChargeDate\"\r\n+                     @cancel=\"cancelChargeDate\"\r\n+                     />\r\n+               </van-action-sheet>\r\n+              \r\n+            </div>\r\n+            <div class=\"money\">\r\n+               <span>￥</span>\r\n+               <van-field v-model=\"price\" readonly/>\r\n+            </div> \r\n+            <div class=\"type-icon\">\r\n+               <div class=\"type-body\" v-if=\"payType == 'expense'\">\r\n+                  <div\r\n+                     class=\"type-item\"\r\n+                     v-for=\"item in expense\"\r\n+                     :key=\"item.id\"\r\n+                     @click=\"choseTypeItem(item)\"\r\n+                     >\r\n+                     <span\r\n+                        :class=\"{'iconfont-wrap': true,expense:true, active: currentType == item.id}\"\r\n+                     >\r\n+                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n+                     </span>\r\n+                     <span>{{ item.name }}</span>\r\n+                  </div>\r\n+               </div>\r\n+               <div class=\"type-body\" v-else>\r\n+                  <div\r\n+                     class=\"type-item\"\r\n+                     v-for=\"item in income\"\r\n+                     :key=\"item.id\"\r\n+                     @click=\"choseTypeItem(item)\"\r\n+                     >\r\n+                     <span\r\n+                        :class=\"{'iconfont-wrap': true,income:true, active: currentType == item.id}\"\r\n+                     >\r\n+                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n+                     </span>\r\n+                     <span>{{ item.name }}</span>\r\n+                  </div>\r\n+               </div>\r\n+            </div>\r\n+            <div class=\"remark\" v-if=\"remark\" @click=\"remarkVisible = true\">\r\n+               {{ remark }}\r\n+            </div>\r\n+            <div class=\"remark\" v-else @click=\"remarkVisible = true\">添加备注</div>\r\n+            <van-dialog \r\n+               v-model:show=\"remarkVisible\" \r\n+               title=\"备注\" \r\n+               show-cancel-button\r\n+               @confirm=\"confirmRemark\"\r\n+               @cancel=\"cancelRemark\"\r\n+               >\r\n+               <van-cell-group inset>\r\n+                  <van-field\r\n+                     v-model=\"remark\"\r\n+                     rows=\"2\"\r\n+                     autosize\r\n+                     type=\"textarea\"\r\n+                     maxlength=\"10\"\r\n+                     placeholder=\"请输入备注\"\r\n+                     show-word-limit\r\n+                  />\r\n+               </van-cell-group>\r\n+            </van-dialog>\r\n+           \r\n+            <van-number-keyboard\r\n+               v-model=\"price\"\r\n+               :show=\"boardVisible\"\r\n+               :extra-key=\"['.']\"\r\n+               @input=\"onInput\"\r\n+               @delete=\"onDelete\"\r\n+               />\r\n+         </van-action-sheet>\r\n+      </div>\r\n+</template>\r\n+\r\n+<script lang=\"ts\" name=\"AddBill\" setup>\r\n+import {ref,computed} from 'vue'\r\n+import { typeMap } from '../utils/index'\r\n+const minDate= new Date(2020, 0, 1)\r\n+const maxDate= new Date(2025, 5, 1)\r\n+// 添加账单\r\n+\r\n+let dayVisible=ref(false)//账单时间弹窗\r\n+let date=new Date()//当前时间\r\n+let year = date.getFullYear();\r\n+let month = ('0' + (date.getMonth() + 1)).slice(-2); // 添加前导零\r\n+let day = ('0' + date.getDate()).slice(-2); // 添加前导零\r\n+let chargeDate=ref([year,month,day])//账单时间\r\n+let payType=ref('expense')//支出？收入\r\n+let remarkVisible=ref(false)//添加备注信息弹窗\r\n+let boardVisible = ref(true)//数字键盘弹窗\r\n+let price=ref('')//价格\r\n+let remark=ref('')//备注\r\n+const {currentType,type_name,expense,income,addVisible}=defineProps([\"currentType\",'type_name',\"expense\",\"income\",'addVisible'])\r\n+function formatToTwoDecimalPlaces(value:string){\r\n+   const number = parseFloat(value);\r\n+   if (isNaN(number)) {\r\n+    return value;\r\n+  }\r\n+  // 检查是否是整数\r\n+  if (Number.isInteger(number)) {\r\n+    // 如果是整数，则在末尾添加 '.00'\r\n+    return value + '.00';\r\n+  } \r\n+  else {\r\n+    // 如果是小数，则保持不变\r\n+    return value;\r\n+  }\r\n+}\r\n+function confirmChargeDate(val:object){\r\n+   chargeDate.value=val.selectedValues;\r\n+   dayVisible.value=false\r\n+}\r\n+function cancelChargeDate(){\r\n+   dayVisible.value=false\r\n+}\r\n+const itemDate = computed(() => chargeDate.value[1]+'-'+chargeDate.value[2]);\r\n+// 选择支出?收入\r\n+function changeType(val:string){\r\n+   payType.value=val\r\n+   if(val=='expense') {\r\n+      currentType.value=expense[0].id\r\n+      type_name.value=expense[0].name\r\n+   }\r\n+   else{\r\n+      currentType.value=income[0].id\r\n+      type_name.value=income[0].name\r\n+\r\n+   }  \r\n+}\r\n+\r\n+//选择具体支出收入类型\r\n+function choseTypeItem(val:object){\r\n+   type_name.value=val.name\r\n+   currentType.value=val.id;\r\n+   \r\n+}\r\n+function confirmRemark(){\r\n+   console.log('确认备注');\r\n+   console.log(remark.value);\r\n+   \r\n+}\r\n+function cancelRemark(){\r\n+   console.log('取消备注');\r\n+\r\n+}\r\n+async function add(){\r\n+   console.log('添加账单');\r\n+   let pay_type:number\r\n+   if(payType.value=='expense'){\r\n+      pay_type=1\r\n+   }\r\n+   else{\r\n+      pay_type=2\r\n+   }\r\n+   let timeStamp = Date.parse(chargeDate.value)\r\n+   if (!price.value) {\r\n+         showFailToast ('请输入具体金额')\r\n+          return\r\n+      }\r\n+   const {code}=await axios.post('/bill/add',{\r\n+      amount:formatToTwoDecimalPlaces(price.value),\r\n+      date:timeStamp,\r\n+      pay_type:pay_type,\r\n+      remark:remark.value,\r\n+      type_id:currentType.value,\r\n+      type_name:type_name.value,\r\n+   })\r\n+   if(code==200){\r\n+      showSuccessToast('添加成功');\r\n+      addVisible.value=false\r\n+      price.value=''\r\n+      date = new Date()\r\n+      payType.value='expense'\r\n+      remark.value=''\r\n+      currentType.value=expense[0].id\r\n+   }\r\n+   console.log({\r\n+      amount:formatToTwoDecimalPlaces(price.value),\r\n+      date:timeStamp,\r\n+      pay_type:pay_type,\r\n+      remark:remark.value,\r\n+      type_id:currentType.value,\r\n+      type_name:type_name.value,\r\n+   });\r\n+   \r\n+   \r\n+}\r\n+\r\n+function onInput(){\r\n+\r\n+}\r\n+function onDelete(){\r\n+\r\n+}\r\n+\r\n+\r\n+\r\n+</script>\r\n+\r\n+<style scoped lang=\"scss\">\r\n+ .add{\r\n+         .top {\r\n+            display: flex;\r\n+            justify-content: space-between;\r\n+            padding: 10px 24px 0 24px;\r\n+            .close {\r\n+               display: flex;\r\n+               align-items: center;\r\n+               font-size: 20px;\r\n+\r\n+            }\r\n+            .add-btn {\r\n+               padding: 0 12px;\r\n+               border-color: $primary;\r\n+            }\r\n+         }\r\n+         .type-time{\r\n+            display: flex;\r\n+            justify-content: space-between;\r\n+            align-items: center;\r\n+            padding: 12px 24px;\r\n+            .type {\r\n+               span {\r\n+                  display: inline-block;\r\n+                  padding: 4px 12px;\r\n+                  font-size: 12px;\r\n+                  border-radius: 24px;\r\n+                  border: 1px solid #f5f5f5;\r\n+                  color: black;\r\n+               }\r\n+               .expense {\r\n+                  margin-right: 6px;\r\n+                  &.active {\r\n+                     background-color: #e9f3fd;\r\n+                     border-color: $primary;\r\n+                     color: $primary;\r\n+                  }\r\n+               }\r\n+               .income {\r\n+                  &.active {\r\n+                     background-color: #fbf8f0;\r\n+                     border-color: $text-warning;\r\n+                     color: $text-warning;\r\n+                  }\r\n+               }\r\n+            }\r\n+            .time {\r\n+               display: flex;\r\n+               justify-content: center;\r\n+               align-items: center;\r\n+               padding: 4px 12px;\r\n+               background-color: #f0f0f0;\r\n+               border-radius: 20px;\r\n+               // color: @color-text-base;\r\n+               .sort-down {\r\n+               font-size: 12px;\r\n+               margin-left: 5px;\r\n+               }\r\n+            }\r\n+         }\r\n+         .money{\r\n+            display: flex;\r\n+            align-items: center;\r\n+            margin: 0 24px;\r\n+            padding-bottom: 5px;\r\n+            border-bottom: 1px solid #e9e9e9;\r\n+            span{\r\n+               font-size: 35px;\r\n+               font-weight: 800;\r\n+               margin-right: 5px;\r\n+            }\r\n+            .van-field{\r\n+               font-size: 35px;\r\n+               \r\n+            }\r\n+         }\r\n+         .type-icon {\r\n+            display: flex;\r\n+            overflow-x: auto;\r\n+            margin: 0 24px;\r\n+            margin-bottom: 20px;\r\n+            .type-body {\r\n+               display: flex;\r\n+               white-space: nowrap;\r\n+               .type-item {\r\n+                  display: flex;\r\n+                  flex-direction: column;\r\n+                  justify-content: center;\r\n+                  align-items: center;\r\n+                  padding: 16px 12px 10px 12px;\r\n+                  .iconfont-wrap {\r\n+                     display: flex;\r\n+                     justify-content: center;\r\n+                     align-items: center;\r\n+                     background-color: #f5f5f5;\r\n+                     border-radius: 50%;\r\n+                     width: 30px;\r\n+                     height: 30px;\r\n+                     margin-bottom: 5px;\r\n+                     .iconfont {\r\n+                        color: rgba(0, 0, 0, 0.5);\r\n+                        font-size: 20px;\r\n+                     }\r\n+                  }\r\n+                  .expense {\r\n+                     &.active {\r\n+                     background-color: $primary;\r\n+                     .iconfont {\r\n+                        color: #fff;\r\n+                        }\r\n+                     }\r\n+                  }\r\n+                  .income {\r\n+                     &.active {\r\n+                     background-color: $text-warning;\r\n+                     .iconfont {\r\n+                        color: #fff;\r\n+                        }\r\n+                     }\r\n+                  }\r\n+               }\r\n+            }\r\n+         }\r\n+         .remark{\r\n+            padding: 0 24px;\r\n+            padding-bottom: 12px;\r\n+            color: #4b67e2;\r\n+\r\n+         }\r\n+         .van-number-keyboard{\r\n+            position: relative;\r\n+         }\r\n+   }\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1712927618384,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,378 +1,6 @@\n <template>\r\n  <div class=\"add\">\r\n-         <van-action-sheet v-model:show=\"addVisible\" :closeable=\"true\">\r\n-            <div class=\"top\">\r\n-               <span class=\"close\" @click=\"addVisible  = false\">\r\n-                  <van-icon name=\"cross\" />\r\n-               </span>\r\n-               <van-button \r\n-                  class=\"add-btn\" \r\n-                  type=\"primary\" \r\n-                  size=\"small\"\r\n-                  @click=\"add\">\r\n-                  确定\r\n-               </van-button>\r\n-            </div>\r\n-            <div class=\"type-time\">\r\n-               <div class=\"type\">\r\n-                  <span\r\n-                     @click=\"changeType('expense')\"\r\n-                     :class=\"{ expense: true, active: payType == 'expense' }\"\r\n-                     >支出</span>\r\n-                     <span\r\n-                     @click=\"changeType('income')\"\r\n-                     :class=\"{ income: true, active: payType == 'income' }\"\r\n-                     >收入</span>         \r\n-               </div>\r\n-               <div @click=\"dayVisible = true\" class=\"time\">\r\n-                  {{itemDate}}\r\n-               </div>\r\n-               <van-action-sheet v-model:show=\"dayVisible\">\r\n-                  <van-date-picker\r\n-                     v-model=\"chargeDate\"\r\n-                     title=\"选择时间\"\r\n-                     :min-date=\"minDate\"\r\n-                     :max-date=\"maxDate\"\r\n-                     @confirm=\"confirmChargeDate\"\r\n-                     @cancel=\"cancelChargeDate\"\r\n-                     />\r\n-               </van-action-sheet>\r\n-              \r\n-            </div>\r\n-            <div class=\"money\">\r\n-               <span>￥</span>\r\n-               <van-field v-model=\"price\" readonly/>\r\n-            </div> \r\n-            <div class=\"type-icon\">\r\n-               <div class=\"type-body\" v-if=\"payType == 'expense'\">\r\n-                  <div\r\n-                     class=\"type-item\"\r\n-                     v-for=\"item in expense\"\r\n-                     :key=\"item.id\"\r\n-                     @click=\"choseTypeItem(item)\"\r\n-                     >\r\n-                     <span\r\n-                        :class=\"{'iconfont-wrap': true,expense:true, active: currentType == item.id}\"\r\n-                     >\r\n-                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n-                     </span>\r\n-                     <span>{{ item.name }}</span>\r\n-                  </div>\r\n-               </div>\r\n-               <div class=\"type-body\" v-else>\r\n-                  <div\r\n-                     class=\"type-item\"\r\n-                     v-for=\"item in income\"\r\n-                     :key=\"item.id\"\r\n-                     @click=\"choseTypeItem(item)\"\r\n-                     >\r\n-                     <span\r\n-                        :class=\"{'iconfont-wrap': true,income:true, active: currentType == item.id}\"\r\n-                     >\r\n-                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n-                     </span>\r\n-                     <span>{{ item.name }}</span>\r\n-                  </div>\r\n-               </div>\r\n-            </div>\r\n-            <div class=\"remark\" v-if=\"remark\" @click=\"remarkVisible = true\">\r\n-               {{ remark }}\r\n-            </div>\r\n-            <div class=\"remark\" v-else @click=\"remarkVisible = true\">添加备注</div>\r\n-            <van-dialog \r\n-               v-model:show=\"remarkVisible\" \r\n-               title=\"备注\" \r\n-               show-cancel-button\r\n-               @confirm=\"confirmRemark\"\r\n-               @cancel=\"cancelRemark\"\r\n-               >\r\n-               <van-cell-group inset>\r\n-                  <van-field\r\n-                     v-model=\"remark\"\r\n-                     rows=\"2\"\r\n-                     autosize\r\n-                     type=\"textarea\"\r\n-                     maxlength=\"10\"\r\n-                     placeholder=\"请输入备注\"\r\n-                     show-word-limit\r\n-                  />\r\n-               </van-cell-group>\r\n-            </van-dialog>\r\n-           \r\n-            <van-number-keyboard\r\n-               v-model=\"price\"\r\n-               :show=\"boardVisible\"\r\n-               :extra-key=\"['.']\"\r\n-               @input=\"onInput\"\r\n-               @delete=\"onDelete\"\r\n-               />\r\n-         </van-action-sheet>\r\n-      </div>\r\n-</template>\r\n-\r\n-<script lang=\"ts\" name=\"AddBill\" setup>\r\n-import {ref,computed} from 'vue'\r\n-import { typeMap } from '../utils/index'\r\n-const minDate= new Date(2020, 0, 1)\r\n-const maxDate= new Date(2025, 5, 1)\r\n-// 添加账单\r\n-\r\n-let dayVisible=ref(false)//账单时间弹窗\r\n-let date=new Date()//当前时间\r\n-let year = date.getFullYear();\r\n-let month = ('0' + (date.getMonth() + 1)).slice(-2); // 添加前导零\r\n-let day = ('0' + date.getDate()).slice(-2); // 添加前导零\r\n-let chargeDate=ref([year,month,day])//账单时间\r\n-let payType=ref('expense')//支出？收入\r\n-let remarkVisible=ref(false)//添加备注信息弹窗\r\n-let boardVisible = ref(true)//数字键盘弹窗\r\n-let price=ref('')//价格\r\n-let remark=ref('')//备注\r\n-const {currentType,type_name,expense,income,addVisible}=defineProps([\"currentType\",'type_name',\"expense\",\"income\",'addVisible'])\r\n-function formatToTwoDecimalPlaces(value:string){\r\n-   const number = parseFloat(value);\r\n-   if (isNaN(number)) {\r\n-    return value;\r\n-  }\r\n-  // 检查是否是整数\r\n-  if (Number.isInteger(number)) {\r\n-    // 如果是整数，则在末尾添加 '.00'\r\n-    return value + '.00';\r\n-  } \r\n-  else {\r\n-    // 如果是小数，则保持不变\r\n-    return value;\r\n-  }\r\n-}\r\n-function confirmChargeDate(val:object){\r\n-   chargeDate.value=val.selectedValues;\r\n-   dayVisible.value=false\r\n-}\r\n-function cancelChargeDate(){\r\n-   dayVisible.value=false\r\n-}\r\n-const itemDate = computed(() => chargeDate.value[1]+'-'+chargeDate.value[2]);\r\n-// 选择支出?收入\r\n-function changeType(val:string){\r\n-   payType.value=val\r\n-   if(val=='expense') {\r\n-      currentType.value=expense[0].id\r\n-      type_name.value=expense[0].name\r\n-   }\r\n-   else{\r\n-      currentType.value=income[0].id\r\n-      type_name.value=income[0].name\r\n-\r\n-   }  \r\n-}\r\n-\r\n-//选择具体支出收入类型\r\n-function choseTypeItem(val:object){\r\n-   type_name.value=val.name\r\n-   currentType.value=val.id;\r\n-   \r\n-}\r\n-function confirmRemark(){\r\n-   console.log('确认备注');\r\n-   console.log(remark.value);\r\n-   \r\n-}\r\n-function cancelRemark(){\r\n-   console.log('取消备注');\r\n-\r\n-}\r\n-async function add(){\r\n-   console.log('添加账单');\r\n-   let pay_type:number\r\n-   if(payType.value=='expense'){\r\n-      pay_type=1\r\n-   }\r\n-   else{\r\n-      pay_type=2\r\n-   }\r\n-   let timeStamp = Date.parse(chargeDate.value)\r\n-   if (!price.value) {\r\n-         showFailToast ('请输入具体金额')\r\n-          return\r\n-      }\r\n-   const {code}=await axios.post('/bill/add',{\r\n-      amount:formatToTwoDecimalPlaces(price.value),\r\n-      date:timeStamp,\r\n-      pay_type:pay_type,\r\n-      remark:remark.value,\r\n-      type_id:currentType.value,\r\n-      type_name:type_name.value,\r\n-   })\r\n-   if(code==200){\r\n-      showSuccessToast('添加成功');\r\n-      addVisible.value=false\r\n-      price.value=''\r\n-      date = new Date()\r\n-      payType.value='expense'\r\n-      remark.value=''\r\n-      currentType.value=expense[0].id\r\n-   }\r\n-   console.log({\r\n-      amount:formatToTwoDecimalPlaces(price.value),\r\n-      date:timeStamp,\r\n-      pay_type:pay_type,\r\n-      remark:remark.value,\r\n-      type_id:currentType.value,\r\n-      type_name:type_name.value,\r\n-   });\r\n-   \r\n-   \r\n-}\r\n-\r\n-function onInput(){\r\n-\r\n-}\r\n-function onDelete(){\r\n-\r\n-}\r\n-\r\n-\r\n-\r\n-</script>\r\n-\r\n-<style scoped lang=\"scss\">\r\n- .add{\r\n-         .top {\r\n-            display: flex;\r\n-            justify-content: space-between;\r\n-            padding: 10px 24px 0 24px;\r\n-            .close {\r\n-               display: flex;\r\n-               align-items: center;\r\n-               font-size: 20px;\r\n-\r\n-            }\r\n-            .add-btn {\r\n-               padding: 0 12px;\r\n-               border-color: $primary;\r\n-            }\r\n-         }\r\n-         .type-time{\r\n-            display: flex;\r\n-            justify-content: space-between;\r\n-            align-items: center;\r\n-            padding: 12px 24px;\r\n-            .type {\r\n-               span {\r\n-                  display: inline-block;\r\n-                  padding: 4px 12px;\r\n-                  font-size: 12px;\r\n-                  border-radius: 24px;\r\n-                  border: 1px solid #f5f5f5;\r\n-                  color: black;\r\n-               }\r\n-               .expense {\r\n-                  margin-right: 6px;\r\n-                  &.active {\r\n-                     background-color: #e9f3fd;\r\n-                     border-color: $primary;\r\n-                     color: $primary;\r\n-                  }\r\n-               }\r\n-               .income {\r\n-                  &.active {\r\n-                     background-color: #fbf8f0;\r\n-                     border-color: $text-warning;\r\n-                     color: $text-warning;\r\n-                  }\r\n-               }\r\n-            }\r\n-            .time {\r\n-               display: flex;\r\n-               justify-content: center;\r\n-               align-items: center;\r\n-               padding: 4px 12px;\r\n-               background-color: #f0f0f0;\r\n-               border-radius: 20px;\r\n-               // color: @color-text-base;\r\n-               .sort-down {\r\n-               font-size: 12px;\r\n-               margin-left: 5px;\r\n-               }\r\n-            }\r\n-         }\r\n-         .money{\r\n-            display: flex;\r\n-            align-items: center;\r\n-            margin: 0 24px;\r\n-            padding-bottom: 5px;\r\n-            border-bottom: 1px solid #e9e9e9;\r\n-            span{\r\n-               font-size: 35px;\r\n-               font-weight: 800;\r\n-               margin-right: 5px;\r\n-            }\r\n-            .van-field{\r\n-               font-size: 35px;\r\n-               \r\n-            }\r\n-         }\r\n-         .type-icon {\r\n-            display: flex;\r\n-            overflow-x: auto;\r\n-            margin: 0 24px;\r\n-            margin-bottom: 20px;\r\n-            .type-body {\r\n-               display: flex;\r\n-               white-space: nowrap;\r\n-               .type-item {\r\n-                  display: flex;\r\n-                  flex-direction: column;\r\n-                  justify-content: center;\r\n-                  align-items: center;\r\n-                  padding: 16px 12px 10px 12px;\r\n-                  .iconfont-wrap {\r\n-                     display: flex;\r\n-                     justify-content: center;\r\n-                     align-items: center;\r\n-                     background-color: #f5f5f5;\r\n-                     border-radius: 50%;\r\n-                     width: 30px;\r\n-                     height: 30px;\r\n-                     margin-bottom: 5px;\r\n-                     .iconfont {\r\n-                        color: rgba(0, 0, 0, 0.5);\r\n-                        font-size: 20px;\r\n-                     }\r\n-                  }\r\n-                  .expense {\r\n-                     &.active {\r\n-                     background-color: $primary;\r\n-                     .iconfont {\r\n-                        color: #fff;\r\n-                        }\r\n-                     }\r\n-                  }\r\n-                  .income {\r\n-                     &.active {\r\n-                     background-color: $text-warning;\r\n-                     .iconfont {\r\n-                        color: #fff;\r\n-                        }\r\n-                     }\r\n-                  }\r\n-               }\r\n-            }\r\n-         }\r\n-         .remark{\r\n-            padding: 0 24px;\r\n-            padding-bottom: 12px;\r\n-            color: #4b67e2;\r\n-\r\n-         }\r\n-         .van-number-keyboard{\r\n-            position: relative;\r\n-         }\r\n-   }\r\n-</style>\n-<template>\r\n- <div class=\"add\">\r\n          <van-action-sheet :closeable=\"true\">\r\n             <div class=\"top\">\r\n                <span class=\"close\" @click=\"addVisible  = false\">\r\n                   <van-icon name=\"cross\" />\r\n@@ -487,379 +115,8 @@\n import { typeMap } from '../utils/index'\r\n const minDate= new Date(2020, 0, 1)\r\n const maxDate= new Date(2025, 5, 1)\r\n // 添加账单\r\n-let dayVisible=ref(false)//账单时间弹窗\r\n-let date=new Date()//当前时间\r\n-let year = date.getFullYear();\r\n-let month = ('0' + (date.getMonth() + 1)).slice(-2); // 添加前导零\r\n-let day = ('0' + date.getDate()).slice(-2); // 添加前导零\r\n-let chargeDate=ref([year,month,day])//账单时间\r\n-let payType=ref('expense')//支出？收入\r\n-let remarkVisible=ref(false)//添加备注信息弹窗\r\n-let boardVisible = ref(true)//数字键盘弹窗\r\n-let price=ref('')//价格\r\n-let remark=ref('')//备注\r\n-const {currentType,type_name,expense,income,addVisible}=defineProps([\"currentType\",'type_name',\"expense\",\"income\",'addVisible'])\r\n-function formatToTwoDecimalPlaces(value:string){\r\n-   const number = parseFloat(value);\r\n-   if (isNaN(number)) {\r\n-    return value;\r\n-  }\r\n-  // 检查是否是整数\r\n-  if (Number.isInteger(number)) {\r\n-    // 如果是整数，则在末尾添加 '.00'\r\n-    return value + '.00';\r\n-  } \r\n-  else {\r\n-    // 如果是小数，则保持不变\r\n-    return value;\r\n-  }\r\n-}\r\n-function confirmChargeDate(val:object){\r\n-   chargeDate.value=val.selectedValues;\r\n-   dayVisible.value=false\r\n-}\r\n-function cancelChargeDate(){\r\n-   dayVisible.value=false\r\n-}\r\n-const itemDate = computed(() => chargeDate.value[1]+'-'+chargeDate.value[2]);\r\n-// 选择支出?收入\r\n-function changeType(val:string){\r\n-   payType.value=val\r\n-   if(val=='expense') {\r\n-      currentType.value=expense[0].id\r\n-      type_name.value=expense[0].name\r\n-   }\r\n-   else{\r\n-      currentType.value=income[0].id\r\n-      type_name.value=income[0].name\r\n-\r\n-   }  \r\n-}\r\n-\r\n-//选择具体支出收入类型\r\n-function choseTypeItem(val:object){\r\n-   type_name.value=val.name\r\n-   currentType.value=val.id;\r\n-   \r\n-}\r\n-function confirmRemark(){\r\n-   console.log('确认备注');\r\n-   console.log(remark.value);\r\n-   \r\n-}\r\n-function cancelRemark(){\r\n-   console.log('取消备注');\r\n-\r\n-}\r\n-async function add(){\r\n-   console.log('添加账单');\r\n-   let pay_type:number\r\n-   if(payType.value=='expense'){\r\n-      pay_type=1\r\n-   }\r\n-   else{\r\n-      pay_type=2\r\n-   }\r\n-   let timeStamp = Date.parse(chargeDate.value)\r\n-   if (!price.value) {\r\n-         showFailToast ('请输入具体金额')\r\n-          return\r\n-      }\r\n-   const {code}=await axios.post('/bill/add',{\r\n-      amount:formatToTwoDecimalPlaces(price.value),\r\n-      date:timeStamp,\r\n-      pay_type:pay_type,\r\n-      remark:remark.value,\r\n-      type_id:currentType.value,\r\n-      type_name:type_name.value,\r\n-   })\r\n-   if(code==200){\r\n-      showSuccessToast('添加成功');\r\n-      addVisible.value=false\r\n-      price.value=''\r\n-      date = new Date()\r\n-      payType.value='expense'\r\n-      remark.value=''\r\n-      currentType.value=expense[0].id\r\n-   }\r\n-   console.log({\r\n-      amount:formatToTwoDecimalPlaces(price.value),\r\n-      date:timeStamp,\r\n-      pay_type:pay_type,\r\n-      remark:remark.value,\r\n-      type_id:currentType.value,\r\n-      type_name:type_name.value,\r\n-   });\r\n-   \r\n-   \r\n-}\r\n-\r\n-function onInput(){\r\n-\r\n-}\r\n-function onDelete(){\r\n-\r\n-}\r\n-\r\n-\r\n-\r\n-</script>\r\n-\r\n-<style scoped lang=\"scss\">\r\n- .add{\r\n-         .top {\r\n-            display: flex;\r\n-            justify-content: space-between;\r\n-            padding: 10px 24px 0 24px;\r\n-            .close {\r\n-               display: flex;\r\n-               align-items: center;\r\n-               font-size: 20px;\r\n-\r\n-            }\r\n-            .add-btn {\r\n-               padding: 0 12px;\r\n-               border-color: $primary;\r\n-            }\r\n-         }\r\n-         .type-time{\r\n-            display: flex;\r\n-            justify-content: space-between;\r\n-            align-items: center;\r\n-            padding: 12px 24px;\r\n-            .type {\r\n-               span {\r\n-                  display: inline-block;\r\n-                  padding: 4px 12px;\r\n-                  font-size: 12px;\r\n-                  border-radius: 24px;\r\n-                  border: 1px solid #f5f5f5;\r\n-                  color: black;\r\n-               }\r\n-               .expense {\r\n-                  margin-right: 6px;\r\n-                  &.active {\r\n-                     background-color: #e9f3fd;\r\n-                     border-color: $primary;\r\n-                     color: $primary;\r\n-                  }\r\n-               }\r\n-               .income {\r\n-                  &.active {\r\n-                     background-color: #fbf8f0;\r\n-                     border-color: $text-warning;\r\n-                     color: $text-warning;\r\n-                  }\r\n-               }\r\n-            }\r\n-            .time {\r\n-               display: flex;\r\n-               justify-content: center;\r\n-               align-items: center;\r\n-               padding: 4px 12px;\r\n-               background-color: #f0f0f0;\r\n-               border-radius: 20px;\r\n-               // color: @color-text-base;\r\n-               .sort-down {\r\n-               font-size: 12px;\r\n-               margin-left: 5px;\r\n-               }\r\n-            }\r\n-         }\r\n-         .money{\r\n-            display: flex;\r\n-            align-items: center;\r\n-            margin: 0 24px;\r\n-            padding-bottom: 5px;\r\n-            border-bottom: 1px solid #e9e9e9;\r\n-            span{\r\n-               font-size: 35px;\r\n-               font-weight: 800;\r\n-               margin-right: 5px;\r\n-            }\r\n-            .van-field{\r\n-               font-size: 35px;\r\n-               \r\n-            }\r\n-         }\r\n-         .type-icon {\r\n-            display: flex;\r\n-            overflow-x: auto;\r\n-            margin: 0 24px;\r\n-            margin-bottom: 20px;\r\n-            .type-body {\r\n-               display: flex;\r\n-               white-space: nowrap;\r\n-               .type-item {\r\n-                  display: flex;\r\n-                  flex-direction: column;\r\n-                  justify-content: center;\r\n-                  align-items: center;\r\n-                  padding: 16px 12px 10px 12px;\r\n-                  .iconfont-wrap {\r\n-                     display: flex;\r\n-                     justify-content: center;\r\n-                     align-items: center;\r\n-                     background-color: #f5f5f5;\r\n-                     border-radius: 50%;\r\n-                     width: 30px;\r\n-                     height: 30px;\r\n-                     margin-bottom: 5px;\r\n-                     .iconfont {\r\n-                        color: rgba(0, 0, 0, 0.5);\r\n-                        font-size: 20px;\r\n-                     }\r\n-                  }\r\n-                  .expense {\r\n-                     &.active {\r\n-                     background-color: $primary;\r\n-                     .iconfont {\r\n-                        color: #fff;\r\n-                        }\r\n-                     }\r\n-                  }\r\n-                  .income {\r\n-                     &.active {\r\n-                     background-color: $text-warning;\r\n-                     .iconfont {\r\n-                        color: #fff;\r\n-                        }\r\n-                     }\r\n-                  }\r\n-               }\r\n-            }\r\n-         }\r\n-         .remark{\r\n-            padding: 0 24px;\r\n-            padding-bottom: 12px;\r\n-            color: #4b67e2;\r\n-\r\n-         }\r\n-         .van-number-keyboard{\r\n-            position: relative;\r\n-         }\r\n-   }\r\n-</style>\n-<template>\r\n- <div class=\"add\">\r\n-         <van-action-sheet v-model:show=\"addVisible\" :closeable=\"true\">\r\n-            <div class=\"top\">\r\n-               <span class=\"close\" @click=\"addVisible  = false\">\r\n-                  <van-icon name=\"cross\" />\r\n-               </span>\r\n-               <van-button \r\n-                  class=\"add-btn\" \r\n-                  type=\"primary\" \r\n-                  size=\"small\"\r\n-                  @click=\"add\">\r\n-                  确定\r\n-               </van-button>\r\n-            </div>\r\n-            <div class=\"type-time\">\r\n-               <div class=\"type\">\r\n-                  <span\r\n-                     @click=\"changeType('expense')\"\r\n-                     :class=\"{ expense: true, active: payType == 'expense' }\"\r\n-                     >支出</span>\r\n-                     <span\r\n-                     @click=\"changeType('income')\"\r\n-                     :class=\"{ income: true, active: payType == 'income' }\"\r\n-                     >收入</span>         \r\n-               </div>\r\n-               <div @click=\"dayVisible = true\" class=\"time\">\r\n-                  {{itemDate}}\r\n-               </div>\r\n-               <van-action-sheet v-model:show=\"dayVisible\">\r\n-                  <van-date-picker\r\n-                     v-model=\"chargeDate\"\r\n-                     title=\"选择时间\"\r\n-                     :min-date=\"minDate\"\r\n-                     :max-date=\"maxDate\"\r\n-                     @confirm=\"confirmChargeDate\"\r\n-                     @cancel=\"cancelChargeDate\"\r\n-                     />\r\n-               </van-action-sheet>\r\n-              \r\n-            </div>\r\n-            <div class=\"money\">\r\n-               <span>￥</span>\r\n-               <van-field v-model=\"price\" readonly/>\r\n-            </div> \r\n-            <div class=\"type-icon\">\r\n-               <div class=\"type-body\" v-if=\"payType == 'expense'\">\r\n-                  <div\r\n-                     class=\"type-item\"\r\n-                     v-for=\"item in expense\"\r\n-                     :key=\"item.id\"\r\n-                     @click=\"choseTypeItem(item)\"\r\n-                     >\r\n-                     <span\r\n-                        :class=\"{'iconfont-wrap': true,expense:true, active: currentType == item.id}\"\r\n-                     >\r\n-                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n-                     </span>\r\n-                     <span>{{ item.name }}</span>\r\n-                  </div>\r\n-               </div>\r\n-               <div class=\"type-body\" v-else>\r\n-                  <div\r\n-                     class=\"type-item\"\r\n-                     v-for=\"item in income\"\r\n-                     :key=\"item.id\"\r\n-                     @click=\"choseTypeItem(item)\"\r\n-                     >\r\n-                     <span\r\n-                        :class=\"{'iconfont-wrap': true,income:true, active: currentType == item.id}\"\r\n-                     >\r\n-                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n-                     </span>\r\n-                     <span>{{ item.name }}</span>\r\n-                  </div>\r\n-               </div>\r\n-            </div>\r\n-            <div class=\"remark\" v-if=\"remark\" @click=\"remarkVisible = true\">\r\n-               {{ remark }}\r\n-            </div>\r\n-            <div class=\"remark\" v-else @click=\"remarkVisible = true\">添加备注</div>\r\n-            <van-dialog \r\n-               v-model:show=\"remarkVisible\" \r\n-               title=\"备注\" \r\n-               show-cancel-button\r\n-               @confirm=\"confirmRemark\"\r\n-               @cancel=\"cancelRemark\"\r\n-               >\r\n-               <van-cell-group inset>\r\n-                  <van-field\r\n-                     v-model=\"remark\"\r\n-                     rows=\"2\"\r\n-                     autosize\r\n-                     type=\"textarea\"\r\n-                     maxlength=\"10\"\r\n-                     placeholder=\"请输入备注\"\r\n-                     show-word-limit\r\n-                  />\r\n-               </van-cell-group>\r\n-            </van-dialog>\r\n-           \r\n-            <van-number-keyboard\r\n-               v-model=\"price\"\r\n-               :show=\"boardVisible\"\r\n-               :extra-key=\"['.']\"\r\n-               @input=\"onInput\"\r\n-               @delete=\"onDelete\"\r\n-               />\r\n-         </van-action-sheet>\r\n-      </div>\r\n-</template>\r\n-\r\n-<script lang=\"ts\" name=\"AddBill\" setup>\r\n-import {ref,computed} from 'vue'\r\n-import { typeMap } from '../utils/index'\r\n-const minDate= new Date(2020, 0, 1)\r\n-const maxDate= new Date(2025, 5, 1)\r\n-// 添加账单\r\n let addVisible=ref(false)//添加账单的操作面板\r\n let dayVisible=ref(false)//账单时间弹窗\r\n let date=new Date()//当前时间\r\n let year = date.getFullYear();\r\n"
                },
                {
                    "date": 1712927839066,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n import { typeMap } from '../utils/index'\r\n const minDate= new Date(2020, 0, 1)\r\n const maxDate= new Date(2025, 5, 1)\r\n // 添加账单\r\n-let addVisible=ref(false)//添加账单的操作面板\r\n+// let addVisible=ref(false)//添加账单的操作面板\r\n let dayVisible=ref(false)//账单时间弹窗\r\n let date=new Date()//当前时间\r\n let year = date.getFullYear();\r\n let month = ('0' + (date.getMonth() + 1)).slice(-2); // 添加前导零\r\n@@ -127,9 +127,9 @@\n let remarkVisible=ref(false)//添加备注信息弹窗\r\n let boardVisible = ref(true)//数字键盘弹窗\r\n let price=ref('')//价格\r\n let remark=ref('')//备注\r\n-const {currentType,type_name,expense,income,addVisible}=defineProps([\"currentType\",'type_name',\"expense\",\"income\",'addVisible'])\r\n+// const {currentType,type_name,expense,income,addVisible}=defineProps([\"currentType\",'type_name',\"expense\",\"income\",'addVisible'])\r\n function formatToTwoDecimalPlaces(value:string){\r\n    const number = parseFloat(value);\r\n    if (isNaN(number)) {\r\n     return value;\r\n"
                },
                {
                    "date": 1712927851071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-<template>\r\n+<!-- <template>\r\n  <div class=\"add\">\r\n          <van-action-sheet :closeable=\"true\">\r\n             <div class=\"top\">\r\n                <span class=\"close\" @click=\"addVisible  = false\">\r\n@@ -368,5 +368,5 @@\n          .van-number-keyboard{\r\n             position: relative;\r\n          }\r\n    }\r\n-</style>\n\\ No newline at end of file\n+</style> -->\n\\ No newline at end of file\n"
                },
                {
                    "date": 1712927857395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-<!-- <template>\r\n+<template>\r\n  <div class=\"add\">\r\n          <van-action-sheet :closeable=\"true\">\r\n             <div class=\"top\">\r\n                <span class=\"close\" @click=\"addVisible  = false\">\r\n@@ -368,5 +368,5 @@\n          .van-number-keyboard{\r\n             position: relative;\r\n          }\r\n    }\r\n-</style> -->\n\\ No newline at end of file\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1712927869036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,9 +106,9 @@\n                @input=\"onInput\"\r\n                @delete=\"onDelete\"\r\n                />\r\n          </van-action-sheet>\r\n-      </div>\r\n+</div>\r\n </template>\r\n \r\n <script lang=\"ts\" name=\"AddBill\" setup>\r\n import {ref,computed} from 'vue'\r\n"
                },
                {
                    "date": 1712927879774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,114 +1,115 @@\n <template>\r\n- <div class=\"add\">\r\n-         <van-action-sheet :closeable=\"true\">\r\n-            <div class=\"top\">\r\n-               <span class=\"close\" @click=\"addVisible  = false\">\r\n-                  <van-icon name=\"cross\" />\r\n-               </span>\r\n-               <van-button \r\n-                  class=\"add-btn\" \r\n-                  type=\"primary\" \r\n-                  size=\"small\"\r\n-                  @click=\"add\">\r\n-                  确定\r\n-               </van-button>\r\n-            </div>\r\n-            <div class=\"type-time\">\r\n-               <div class=\"type\">\r\n-                  <span\r\n-                     @click=\"changeType('expense')\"\r\n-                     :class=\"{ expense: true, active: payType == 'expense' }\"\r\n-                     >支出</span>\r\n-                     <span\r\n-                     @click=\"changeType('income')\"\r\n-                     :class=\"{ income: true, active: payType == 'income' }\"\r\n-                     >收入</span>         \r\n+   <!-- <div class=\"add\">\r\n+            <van-action-sheet :closeable=\"true\">\r\n+               <div class=\"top\">\r\n+                  <span class=\"close\" @click=\"addVisible  = false\">\r\n+                     <van-icon name=\"cross\" />\r\n+                  </span>\r\n+                  <van-button \r\n+                     class=\"add-btn\" \r\n+                     type=\"primary\" \r\n+                     size=\"small\"\r\n+                     @click=\"add\">\r\n+                     确定\r\n+                  </van-button>\r\n                </div>\r\n-               <div @click=\"dayVisible = true\" class=\"time\">\r\n-                  {{itemDate}}\r\n-               </div>\r\n-               <van-action-sheet v-model:show=\"dayVisible\">\r\n-                  <van-date-picker\r\n-                     v-model=\"chargeDate\"\r\n-                     title=\"选择时间\"\r\n-                     :min-date=\"minDate\"\r\n-                     :max-date=\"maxDate\"\r\n-                     @confirm=\"confirmChargeDate\"\r\n-                     @cancel=\"cancelChargeDate\"\r\n-                     />\r\n-               </van-action-sheet>\r\n-              \r\n-            </div>\r\n-            <div class=\"money\">\r\n-               <span>￥</span>\r\n-               <van-field v-model=\"price\" readonly/>\r\n-            </div> \r\n-            <div class=\"type-icon\">\r\n-               <div class=\"type-body\" v-if=\"payType == 'expense'\">\r\n-                  <div\r\n-                     class=\"type-item\"\r\n-                     v-for=\"item in expense\"\r\n-                     :key=\"item.id\"\r\n-                     @click=\"choseTypeItem(item)\"\r\n-                     >\r\n+               <div class=\"type-time\">\r\n+                  <div class=\"type\">\r\n                      <span\r\n-                        :class=\"{'iconfont-wrap': true,expense:true, active: currentType == item.id}\"\r\n-                     >\r\n-                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n-                     </span>\r\n-                     <span>{{ item.name }}</span>\r\n+                        @click=\"changeType('expense')\"\r\n+                        :class=\"{ expense: true, active: payType == 'expense' }\"\r\n+                        >支出</span>\r\n+                        <span\r\n+                        @click=\"changeType('income')\"\r\n+                        :class=\"{ income: true, active: payType == 'income' }\"\r\n+                        >收入</span>         \r\n                   </div>\r\n+                  <div @click=\"dayVisible = true\" class=\"time\">\r\n+                     {{itemDate}}\r\n+                  </div>\r\n+                  <van-action-sheet v-model:show=\"dayVisible\">\r\n+                     <van-date-picker\r\n+                        v-model=\"chargeDate\"\r\n+                        title=\"选择时间\"\r\n+                        :min-date=\"minDate\"\r\n+                        :max-date=\"maxDate\"\r\n+                        @confirm=\"confirmChargeDate\"\r\n+                        @cancel=\"cancelChargeDate\"\r\n+                        />\r\n+                  </van-action-sheet>\r\n+               \r\n                </div>\r\n-               <div class=\"type-body\" v-else>\r\n-                  <div\r\n-                     class=\"type-item\"\r\n-                     v-for=\"item in income\"\r\n-                     :key=\"item.id\"\r\n-                     @click=\"choseTypeItem(item)\"\r\n-                     >\r\n-                     <span\r\n-                        :class=\"{'iconfont-wrap': true,income:true, active: currentType == item.id}\"\r\n-                     >\r\n-                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n-                     </span>\r\n-                     <span>{{ item.name }}</span>\r\n+               <div class=\"money\">\r\n+                  <span>￥</span>\r\n+                  <van-field v-model=\"price\" readonly/>\r\n+               </div> \r\n+               <div class=\"type-icon\">\r\n+                  <div class=\"type-body\" v-if=\"payType == 'expense'\">\r\n+                     <div\r\n+                        class=\"type-item\"\r\n+                        v-for=\"item in expense\"\r\n+                        :key=\"item.id\"\r\n+                        @click=\"choseTypeItem(item)\"\r\n+                        >\r\n+                        <span\r\n+                           :class=\"{'iconfont-wrap': true,expense:true, active: currentType == item.id}\"\r\n+                        >\r\n+                           <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n+                        </span>\r\n+                        <span>{{ item.name }}</span>\r\n+                     </div>\r\n                   </div>\r\n+                  <div class=\"type-body\" v-else>\r\n+                     <div\r\n+                        class=\"type-item\"\r\n+                        v-for=\"item in income\"\r\n+                        :key=\"item.id\"\r\n+                        @click=\"choseTypeItem(item)\"\r\n+                        >\r\n+                        <span\r\n+                           :class=\"{'iconfont-wrap': true,income:true, active: currentType == item.id}\"\r\n+                        >\r\n+                           <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n+                        </span>\r\n+                        <span>{{ item.name }}</span>\r\n+                     </div>\r\n+                  </div>\r\n                </div>\r\n-            </div>\r\n-            <div class=\"remark\" v-if=\"remark\" @click=\"remarkVisible = true\">\r\n-               {{ remark }}\r\n-            </div>\r\n-            <div class=\"remark\" v-else @click=\"remarkVisible = true\">添加备注</div>\r\n-            <van-dialog \r\n-               v-model:show=\"remarkVisible\" \r\n-               title=\"备注\" \r\n-               show-cancel-button\r\n-               @confirm=\"confirmRemark\"\r\n-               @cancel=\"cancelRemark\"\r\n-               >\r\n-               <van-cell-group inset>\r\n-                  <van-field\r\n-                     v-model=\"remark\"\r\n-                     rows=\"2\"\r\n-                     autosize\r\n-                     type=\"textarea\"\r\n-                     maxlength=\"10\"\r\n-                     placeholder=\"请输入备注\"\r\n-                     show-word-limit\r\n+               <div class=\"remark\" v-if=\"remark\" @click=\"remarkVisible = true\">\r\n+                  {{ remark }}\r\n+               </div>\r\n+               <div class=\"remark\" v-else @click=\"remarkVisible = true\">添加备注</div>\r\n+               <van-dialog \r\n+                  v-model:show=\"remarkVisible\" \r\n+                  title=\"备注\" \r\n+                  show-cancel-button\r\n+                  @confirm=\"confirmRemark\"\r\n+                  @cancel=\"cancelRemark\"\r\n+                  >\r\n+                  <van-cell-group inset>\r\n+                     <van-field\r\n+                        v-model=\"remark\"\r\n+                        rows=\"2\"\r\n+                        autosize\r\n+                        type=\"textarea\"\r\n+                        maxlength=\"10\"\r\n+                        placeholder=\"请输入备注\"\r\n+                        show-word-limit\r\n+                     />\r\n+                  </van-cell-group>\r\n+               </van-dialog>\r\n+            \r\n+               <van-number-keyboard\r\n+                  v-model=\"price\"\r\n+                  :show=\"boardVisible\"\r\n+                  :extra-key=\"['.']\"\r\n+                  @input=\"onInput\"\r\n+                  @delete=\"onDelete\"\r\n                   />\r\n-               </van-cell-group>\r\n-            </van-dialog>\r\n-           \r\n-            <van-number-keyboard\r\n-               v-model=\"price\"\r\n-               :show=\"boardVisible\"\r\n-               :extra-key=\"['.']\"\r\n-               @input=\"onInput\"\r\n-               @delete=\"onDelete\"\r\n-               />\r\n-         </van-action-sheet>\r\n-</div>\r\n+            </van-action-sheet>\r\n+   </div> -->\r\n+   aaaa\r\n </template>\r\n \r\n <script lang=\"ts\" name=\"AddBill\" setup>\r\n import {ref,computed} from 'vue'\r\n"
                },
                {
                    "date": 1712927888908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -107,9 +107,8 @@\n                   @delete=\"onDelete\"\r\n                   />\r\n             </van-action-sheet>\r\n    </div> -->\r\n-   aaaa\r\n </template>\r\n \r\n <script lang=\"ts\" name=\"AddBill\" setup>\r\n import {ref,computed} from 'vue'\r\n"
                },
                {
                    "date": 1712927904879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n <template>\r\n+    <van-action-sheet :closeable=\"true\"></van-action-sheet>\r\n    <!-- <div class=\"add\">\r\n             <van-action-sheet :closeable=\"true\">\r\n                <div class=\"top\">\r\n                   <span class=\"close\" @click=\"addVisible  = false\">\r\n"
                },
                {
                    "date": 1712927916387,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <template>\r\n-    <van-action-sheet :closeable=\"true\"></van-action-sheet>\r\n+    <van-action-sheet :closeable=\"true\">\r\n    <!-- <div class=\"add\">\r\n             <van-action-sheet :closeable=\"true\">\r\n                <div class=\"top\">\r\n                   <span class=\"close\" @click=\"addVisible  = false\">\r\n"
                },
                {
                    "date": 1712927945151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,8 @@\n <template>\r\n     <van-action-sheet :closeable=\"true\">\r\n+ \r\n+   </van-action-sheet>\r\n    <!-- <div class=\"add\">\r\n             <van-action-sheet :closeable=\"true\">\r\n                <div class=\"top\">\r\n                   <span class=\"close\" @click=\"addVisible  = false\">\r\n"
                },
                {
                    "date": 1712927952103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <template>\r\n-   <!-- <div class=\"add\">\r\n+   <div class=\"add\">\r\n             <van-action-sheet :closeable=\"true\">\r\n                <div class=\"top\">\r\n                   <span class=\"close\" @click=\"addVisible  = false\">\r\n                      <van-icon name=\"cross\" />\r\n@@ -106,9 +106,9 @@\n                   @input=\"onInput\"\r\n                   @delete=\"onDelete\"\r\n                   />\r\n             </van-action-sheet>\r\n-   </div> -->\r\n+   </div>\r\n </template>\r\n \r\n <script lang=\"ts\" name=\"AddBill\" setup>\r\n import {ref,computed} from 'vue'\r\n"
                },
                {
                    "date": 1712928406212,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n <template>\r\n    <div class=\"add\">\r\n             <van-action-sheet :closeable=\"true\">\r\n-               <div class=\"top\">\r\n+               <!-- <div class=\"top\">\r\n                   <span class=\"close\">\r\n                      <van-icon name=\"cross\" />\r\n                   </span>\r\n                   <van-button \r\n@@ -104,9 +104,9 @@\n                   :show=\"boardVisible\"\r\n                   :extra-key=\"['.']\"\r\n                   @input=\"onInput\"\r\n                   @delete=\"onDelete\"\r\n-                  />\r\n+                  /> -->\r\n             </van-action-sheet>\r\n    </div>\r\n </template>\r\n \r\n"
                }
            ],
            "date": 1712927561355,
            "name": "Commit-0",
            "content": "<template>\r\n <div class=\"add\">\r\n         <van-action-sheet v-model:show=\"addVisible\" :closeable=\"true\">\r\n            <div class=\"top\">\r\n               <span class=\"close\" @click=\"addVisible  = false\">\r\n                  <van-icon name=\"cross\" />\r\n               </span>\r\n               <van-button \r\n                  class=\"add-btn\" \r\n                  type=\"primary\" \r\n                  size=\"small\"\r\n                  @click=\"add\">\r\n                  确定\r\n               </van-button>\r\n            </div>\r\n            <div class=\"type-time\">\r\n               <div class=\"type\">\r\n                  <span\r\n                     @click=\"changeType('expense')\"\r\n                     :class=\"{ expense: true, active: payType == 'expense' }\"\r\n                     >支出</span>\r\n                     <span\r\n                     @click=\"changeType('income')\"\r\n                     :class=\"{ income: true, active: payType == 'income' }\"\r\n                     >收入</span>         \r\n               </div>\r\n               <div @click=\"dayVisible = true\" class=\"time\">\r\n                  {{itemDate}}\r\n               </div>\r\n               <van-action-sheet v-model:show=\"dayVisible\">\r\n                  <van-date-picker\r\n                     v-model=\"chargeDate\"\r\n                     title=\"选择时间\"\r\n                     :min-date=\"minDate\"\r\n                     :max-date=\"maxDate\"\r\n                     @confirm=\"confirmChargeDate\"\r\n                     @cancel=\"cancelChargeDate\"\r\n                     />\r\n               </van-action-sheet>\r\n              \r\n            </div>\r\n            <div class=\"money\">\r\n               <span>￥</span>\r\n               <van-field v-model=\"price\" readonly/>\r\n            </div> \r\n            <div class=\"type-icon\">\r\n               <div class=\"type-body\" v-if=\"payType == 'expense'\">\r\n                  <div\r\n                     class=\"type-item\"\r\n                     v-for=\"item in expense\"\r\n                     :key=\"item.id\"\r\n                     @click=\"choseTypeItem(item)\"\r\n                     >\r\n                     <span\r\n                        :class=\"{'iconfont-wrap': true,expense:true, active: currentType == item.id}\"\r\n                     >\r\n                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n                     </span>\r\n                     <span>{{ item.name }}</span>\r\n                  </div>\r\n               </div>\r\n               <div class=\"type-body\" v-else>\r\n                  <div\r\n                     class=\"type-item\"\r\n                     v-for=\"item in income\"\r\n                     :key=\"item.id\"\r\n                     @click=\"choseTypeItem(item)\"\r\n                     >\r\n                     <span\r\n                        :class=\"{'iconfont-wrap': true,income:true, active: currentType == item.id}\"\r\n                     >\r\n                        <i class=\"iconfont\" :class=\"typeMap[item.id].icon\"></i>\r\n                     </span>\r\n                     <span>{{ item.name }}</span>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <div class=\"remark\" v-if=\"remark\" @click=\"remarkVisible = true\">\r\n               {{ remark }}\r\n            </div>\r\n            <div class=\"remark\" v-else @click=\"remarkVisible = true\">添加备注</div>\r\n            <van-dialog \r\n               v-model:show=\"remarkVisible\" \r\n               title=\"备注\" \r\n               show-cancel-button\r\n               @confirm=\"confirmRemark\"\r\n               @cancel=\"cancelRemark\"\r\n               >\r\n               <van-cell-group inset>\r\n                  <van-field\r\n                     v-model=\"remark\"\r\n                     rows=\"2\"\r\n                     autosize\r\n                     type=\"textarea\"\r\n                     maxlength=\"10\"\r\n                     placeholder=\"请输入备注\"\r\n                     show-word-limit\r\n                  />\r\n               </van-cell-group>\r\n            </van-dialog>\r\n           \r\n            <van-number-keyboard\r\n               v-model=\"price\"\r\n               :show=\"boardVisible\"\r\n               :extra-key=\"['.']\"\r\n               @input=\"onInput\"\r\n               @delete=\"onDelete\"\r\n               />\r\n         </van-action-sheet>\r\n      </div>\r\n</template>\r\n\r\n<script lang=\"ts\" name=\"AddBill\" setup>\r\nimport {ref,computed} from 'vue'\r\nimport { typeMap } from '../utils/index'\r\nconst minDate= new Date(2020, 0, 1)\r\nconst maxDate= new Date(2025, 5, 1)\r\n// 添加账单\r\nlet addVisible=ref(false)//添加账单的操作面板\r\nlet dayVisible=ref(false)//账单时间弹窗\r\nlet date=new Date()//当前时间\r\nlet year = date.getFullYear();\r\nlet month = ('0' + (date.getMonth() + 1)).slice(-2); // 添加前导零\r\nlet day = ('0' + date.getDate()).slice(-2); // 添加前导零\r\nlet chargeDate=ref([year,month,day])//账单时间\r\nlet payType=ref('expense')//支出？收入\r\nlet remarkVisible=ref(false)//添加备注信息弹窗\r\nlet boardVisible = ref(true)//数字键盘弹窗\r\nlet price=ref('')//价格\r\nlet remark=ref('')//备注\r\nconst {currentType,type_name,expense,income,addVisible}=defineProps([\"currentType\",'type_name',\"expense\",\"income\",'addVisible'])\r\nfunction formatToTwoDecimalPlaces(value:string){\r\n   const number = parseFloat(value);\r\n   if (isNaN(number)) {\r\n    return value;\r\n  }\r\n  // 检查是否是整数\r\n  if (Number.isInteger(number)) {\r\n    // 如果是整数，则在末尾添加 '.00'\r\n    return value + '.00';\r\n  } \r\n  else {\r\n    // 如果是小数，则保持不变\r\n    return value;\r\n  }\r\n}\r\nfunction confirmChargeDate(val:object){\r\n   chargeDate.value=val.selectedValues;\r\n   dayVisible.value=false\r\n}\r\nfunction cancelChargeDate(){\r\n   dayVisible.value=false\r\n}\r\nconst itemDate = computed(() => chargeDate.value[1]+'-'+chargeDate.value[2]);\r\n// 选择支出?收入\r\nfunction changeType(val:string){\r\n   payType.value=val\r\n   if(val=='expense') {\r\n      currentType.value=expense[0].id\r\n      type_name.value=expense[0].name\r\n   }\r\n   else{\r\n      currentType.value=income[0].id\r\n      type_name.value=income[0].name\r\n\r\n   }  \r\n}\r\n\r\n//选择具体支出收入类型\r\nfunction choseTypeItem(val:object){\r\n   type_name.value=val.name\r\n   currentType.value=val.id;\r\n   \r\n}\r\nfunction confirmRemark(){\r\n   console.log('确认备注');\r\n   console.log(remark.value);\r\n   \r\n}\r\nfunction cancelRemark(){\r\n   console.log('取消备注');\r\n\r\n}\r\nasync function add(){\r\n   console.log('添加账单');\r\n   let pay_type:number\r\n   if(payType.value=='expense'){\r\n      pay_type=1\r\n   }\r\n   else{\r\n      pay_type=2\r\n   }\r\n   let timeStamp = Date.parse(chargeDate.value)\r\n   if (!price.value) {\r\n         showFailToast ('请输入具体金额')\r\n          return\r\n      }\r\n   const {code}=await axios.post('/bill/add',{\r\n      amount:formatToTwoDecimalPlaces(price.value),\r\n      date:timeStamp,\r\n      pay_type:pay_type,\r\n      remark:remark.value,\r\n      type_id:currentType.value,\r\n      type_name:type_name.value,\r\n   })\r\n   if(code==200){\r\n      showSuccessToast('添加成功');\r\n      addVisible.value=false\r\n      price.value=''\r\n      date = new Date()\r\n      payType.value='expense'\r\n      remark.value=''\r\n      currentType.value=expense[0].id\r\n   }\r\n   console.log({\r\n      amount:formatToTwoDecimalPlaces(price.value),\r\n      date:timeStamp,\r\n      pay_type:pay_type,\r\n      remark:remark.value,\r\n      type_id:currentType.value,\r\n      type_name:type_name.value,\r\n   });\r\n   \r\n   \r\n}\r\n\r\nfunction onInput(){\r\n\r\n}\r\nfunction onDelete(){\r\n\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n .add{\r\n         .top {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            padding: 10px 24px 0 24px;\r\n            .close {\r\n               display: flex;\r\n               align-items: center;\r\n               font-size: 20px;\r\n\r\n            }\r\n            .add-btn {\r\n               padding: 0 12px;\r\n               border-color: $primary;\r\n            }\r\n         }\r\n         .type-time{\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            padding: 12px 24px;\r\n            .type {\r\n               span {\r\n                  display: inline-block;\r\n                  padding: 4px 12px;\r\n                  font-size: 12px;\r\n                  border-radius: 24px;\r\n                  border: 1px solid #f5f5f5;\r\n                  color: black;\r\n               }\r\n               .expense {\r\n                  margin-right: 6px;\r\n                  &.active {\r\n                     background-color: #e9f3fd;\r\n                     border-color: $primary;\r\n                     color: $primary;\r\n                  }\r\n               }\r\n               .income {\r\n                  &.active {\r\n                     background-color: #fbf8f0;\r\n                     border-color: $text-warning;\r\n                     color: $text-warning;\r\n                  }\r\n               }\r\n            }\r\n            .time {\r\n               display: flex;\r\n               justify-content: center;\r\n               align-items: center;\r\n               padding: 4px 12px;\r\n               background-color: #f0f0f0;\r\n               border-radius: 20px;\r\n               // color: @color-text-base;\r\n               .sort-down {\r\n               font-size: 12px;\r\n               margin-left: 5px;\r\n               }\r\n            }\r\n         }\r\n         .money{\r\n            display: flex;\r\n            align-items: center;\r\n            margin: 0 24px;\r\n            padding-bottom: 5px;\r\n            border-bottom: 1px solid #e9e9e9;\r\n            span{\r\n               font-size: 35px;\r\n               font-weight: 800;\r\n               margin-right: 5px;\r\n            }\r\n            .van-field{\r\n               font-size: 35px;\r\n               \r\n            }\r\n         }\r\n         .type-icon {\r\n            display: flex;\r\n            overflow-x: auto;\r\n            margin: 0 24px;\r\n            margin-bottom: 20px;\r\n            .type-body {\r\n               display: flex;\r\n               white-space: nowrap;\r\n               .type-item {\r\n                  display: flex;\r\n                  flex-direction: column;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                  padding: 16px 12px 10px 12px;\r\n                  .iconfont-wrap {\r\n                     display: flex;\r\n                     justify-content: center;\r\n                     align-items: center;\r\n                     background-color: #f5f5f5;\r\n                     border-radius: 50%;\r\n                     width: 30px;\r\n                     height: 30px;\r\n                     margin-bottom: 5px;\r\n                     .iconfont {\r\n                        color: rgba(0, 0, 0, 0.5);\r\n                        font-size: 20px;\r\n                     }\r\n                  }\r\n                  .expense {\r\n                     &.active {\r\n                     background-color: $primary;\r\n                     .iconfont {\r\n                        color: #fff;\r\n                        }\r\n                     }\r\n                  }\r\n                  .income {\r\n                     &.active {\r\n                     background-color: $text-warning;\r\n                     .iconfont {\r\n                        color: #fff;\r\n                        }\r\n                     }\r\n                  }\r\n               }\r\n            }\r\n         }\r\n         .remark{\r\n            padding: 0 24px;\r\n            padding-bottom: 12px;\r\n            color: #4b67e2;\r\n\r\n         }\r\n         .van-number-keyboard{\r\n            position: relative;\r\n         }\r\n   }\r\n</style>"
        }
    ]
}